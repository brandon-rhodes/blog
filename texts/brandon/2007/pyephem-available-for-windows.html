---
categories: Computing, PyEphem, Python
date: 2007/11/09 11:10:25
permalink: http://rhodesmill.org/brandon/2007/pyephem-available-for-windows/
tags: ''
title: PyEphem available for Windows!
---
<p>
Over the years I have received many requests from frustrated Windows users, asking for a Windows-native version of my <a href="http://rhodesmill.org/pyephem/">PyEphem</a> astronomy library for Python. For most Windows users, an attempt to build the extension ends abruptly with the terrible and famous message:
</p>

<blockquote><tt>error: Python was built with version 7.1 of Visual Studio, and extensions need to be built with the same version of the compiler, but it isn't installed.</tt></blockquote>

<p>
And, as I myself do not have Visual Studio on the small Windows machine that I deign to own for the sake of my photo printer, I have never been able to offer my users much help. But earlier this year, a helpful PyEphem user named Jeff Kowalczyk emailed me a link to Philip von Weitershausen's post <a href="http://www.z3lab.org/sections/blogs/philipp-weitershausen/2007_07_26_cheap-binary-windows">“Cheap binary Windows eggs”</a>, which describes a method for building Python extensions using a freely available compiler.
</p>

<!--more-->

<p>
Aside from the difficulty that the Python setuptools ignored the <tt>pydistutils.cfg</tt> file he recommended, making it necessary for me to name the compiler on the command line, his instructions produced a PyEphem windows egg with only a few steps:
</p>

<ul>
<li>I installed <a href="http://www.python.org/download/windows/">Python for Windows</a>.</li>
<li>I installed the <a href="http://cheeseshop.python.org/pypi/setuptools/">setuptools package</a> using its Windows <tt class="docutils literal"><span class="pre">.exe</span></tt> installer (scroll down the page to find it).</li>
<li>I installed the <a href="http://www.mingw.org/">MinGW compiler</a>.</li>
<li>I installed <a href="http://gnuwin32.sourceforge.net/packages/libarchive.htm">LibArchive for Windows</a>.</li>
<li>I added to my Windows <tt class="docutils literal"><span class="pre">Path</span></tt>:
<pre>C:\Python25;C:\MingW\bin;C:\Program Files\GnuWin32\bin</pre>
</li>
<li>I downloaded the <a href="http://rhodesmill.org/pyephem/">PyEphem</a> source archive.</li>
<li>I brought up a command window and ran:
<pre>
C:\dev&gt; bsdtar -xf pyephem-3.7.2.1.tar.gz
C:\dev&gt; cd pyephem-3.7.2.1
C:\dev\pyephem-3.7.2.1&gt; python setup.py build --compiler=mingw32
C:\dev\pyephem-3.7.2.1&gt; python setup.py bdist_egg
</pre>
</li>
<li>I uploaded the egg in the <tt>dist</tt> directory to the Cheese Shop.</li>
</ul>

<p>
Windows users will now find my Windows binary eggs on the <a href="http://pypi.python.org/pypi/pyephem/">Cheese Shop PyEphem entry</a>!
</p>

<p>
Always keep in mind that behind a small triumph like this one for a Free Software developer like myself stands a great mountain-mass of work by hundreds of others in the community. In this case one helpful user lead to one informative blog post which lead to a solid and available tool&nbsp;— MinGW&nbsp;— that is a descendant of the GCC compiler Richard Stallman himself started writing over twenty years ago! All of which allowed the delivery, to a new (and closed) platform, of my Python interface to <a href="http://www.clearskyinstitute.com/xephem/index.html">astronomy routines</a> which <a href="http://www.clearskyinstitute.com/resumes/ecdowney/resume.html">Elwood Charles Downey</a> has been maintaining for more than a quarter-century.
</p>
