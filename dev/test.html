<html>
  <head>
    <meta charset="utf-8" />
    <link
      rel="stylesheet"
      href="https://unpkg.com/leaflet@1.3.4/dist/leaflet.css"
      integrity="sha512-puBpdR0798OZvTTbP4A8Ix/l+A4dHDD0DGqYW6RQ+9jxkRFclaxxQb/SJAWZfWAkuyeQUytO7+7N4QKrDh+drA=="
      crossorigin=""/>
    <script
      src="https://unpkg.com/leaflet@1.3.4/dist/leaflet.js"
      integrity="sha512-nMMmRyTVoLYqjP9hrbed9S+FzjZHW5gY1TWCHA5ckwXZBadntCNs8kEqAWdrb9O7rxbCaA4lKTIWjDXZxflOcA=="
      crossorigin=""></script>
    <script src="https://unpkg.com/leaflet-ajax@2.1.0/dist/leaflet.ajax.js"></script>
<script type="text/javascript" src="http://maps.stamen.com/js/tile.stamen.js?v1.3.0"></script>

    <style>
      #map {height: 80%; width: 100%;}
      .my-div-icon {
          border: 2px solid black;
          border-radius: 4px;
/* margin-left: -3px; */
/*     margin-top: -3px; */
/*     width: 6px; */
/*     height: 6px; */
      }
      .my-tooltip {
          border: none;
          background: none;
          box-shadow: none;
      }
      .my-tooltip::before {
          content: none;
      }
    </style>
  </head>
  <body>
    <div id="map" style="border: 5px solid black"></div>
    <script>

var map = L.map('map');

var s_layer = new L.StamenTileLayer("terrain");
map.addLayer(s_layer);

      //var layer = new L.GeoJSON.AJAX("test.json");
      latlngs = [[39.3447261, -120.6050326], [39.3448365, -120.6047965], [39.34496, -120.6042325], [39.3450784, -120.6038966], [39.3451049, -120.6035053], [39.3450956, -120.6034894], [39.3450171, -120.6029867], [39.3450074, -120.6024007], [39.3448773, -120.602251], [39.3449127, -120.6018803], [39.3449457, -120.6017483], [39.3451407, -120.6012093], [39.3451901, -120.6011087], [39.3450318, -120.6005972], [39.3448498, -120.6000848], [39.3449407, -120.5996089], [39.3451889, -120.5994703], [39.3455701, -120.599273], [39.345578, -120.5990585], [39.3453529, -120.5985699], [39.3452625, -120.5985605], [39.3452556, -120.5983681], [39.3453688, -120.5981902], [39.345347, -120.5980471], [39.3453608, -120.5979996], [39.3454545, -120.5977803], [39.3455296, -120.5972106], [39.3455666, -120.5966549], [39.3455854, -120.5960909], [39.3454707, -120.5959763], [39.3454401, -120.595976], [39.3450992, -120.5959452], [39.3448692, -120.595898], [39.3444321, -120.5958439], [39.344311, -120.5957311], [39.3442655, -120.5953922], [39.3445854, -120.59502], [39.3447887, -120.594515], [39.3449722, -120.5939857], [39.3451862, -120.5936823], [39.345088, -120.593682], [39.3450672, -120.5936888], [39.3448807, -120.5936533], [39.3447821, -120.5936033], [39.3446352, -120.5930825], [39.344562, -120.5930472], [39.3444081, -120.5929604], [39.3440502, -120.5926927], [39.3440077, -120.5926841], [39.3436787, -120.5925076], [39.3434005, -120.5923149], [39.3430457, -120.5919485], [39.3428241, -120.5914734], [39.3426136, -120.5909828], [39.3423617, -120.5909298], [39.3419396, -120.5908902], [39.3415385, -120.591108], [39.3411653, -120.590938], [39.3411391, -120.5909785], [39.3410574, -120.5910248], [39.3409161, -120.5909878], [39.3405106, -120.590974], [39.3402418, -120.5910623], [39.3402531, -120.5910598], [39.3406961, -120.5909188], [39.3408018, -120.5909196], [39.3411048, -120.5910406], [39.3415368, -120.591109], [39.3419325, -120.5909184], [39.3422501, -120.5906313], [39.3423446, -120.5905978], [39.3424493, -120.590499], [39.3426868, -120.590071], [39.3428321, -120.5901549], [39.3428577, -120.5901561], [39.3431651, -120.5900514], [39.3431902, -120.5899271], [39.3433686, -120.5896682], [39.3437433, -120.5894119], [39.3439125, -120.5890648], [39.3442118, -120.588749], [39.3445832, -120.588562], [39.3446899, -120.5883144], [39.344432, -120.587832], [39.3442873, -120.587545], [39.3442828, -120.5874695], [39.3439571, -120.5871053], [39.343722, -120.5866253], [39.3437129, -120.586585], [39.3433322, -120.5862571], [39.3430349, -120.5858124], [39.3427015, -120.5854158], [39.3425459, -120.5853344], [39.3424348, -120.5851019], [39.3422872, -120.5846671], [39.3422807, -120.5846536], [39.342203, -120.5843281], [39.3420626, -120.5839755], [39.3420643, -120.5837752], [39.3420003, -120.5832003], [39.3419526, -120.5828019], [39.3418967, -120.5822382], [39.3418711, -120.5821656], [39.3417875, -120.581594], [39.3416415, -120.5813356], [39.3412364, -120.5812693], [39.3412275, -120.5812766], [39.3409734, -120.5813421], [39.3409302, -120.5813534], [39.3406101, -120.5811857], [39.3403589, -120.5809131], [39.339938, -120.5807719], [39.339611, -120.580417], [39.3391644, -120.5803449], [39.3387561, -120.5801042], [39.3387499, -120.5800881], [39.3386337, -120.5795082], [39.3386012, -120.5789537], [39.3384889, -120.5787483], [39.3381506, -120.5783799], [39.3381149, -120.5783061], [39.337806, -120.5779053], [39.3373847, -120.57775], [39.3369593, -120.5775476], [39.3365671, -120.5773667], [39.3363854, -120.5773372], [39.3360054, -120.5776097], [39.3360004, -120.5776228], [39.3356797, -120.5780073], [39.3352228, -120.5780531], [39.3347763, -120.5779723], [39.3347632, -120.5779634], [39.3344979, -120.5780073], [39.3343046, -120.57805], [39.3340071, -120.5776087], [39.3335845, -120.5774238], [39.3332192, -120.5770754], [39.3331346, -120.5765072], [39.3330416, -120.5759645], [39.3327124, -120.5755632], [39.3325234, -120.5750339], [39.3325219, -120.5750178], [39.3323609, -120.5745437], [39.3321334, -120.574238], [39.3319878, -120.5737041], [39.3318033, -120.5733016], [39.3317278, -120.5732916], [39.3313719, -120.5729564], [39.3313522, -120.5729587], [39.3313317, -120.5729707]];
      // [
      //               [
      //                   39.34472609280829,
      //                   -120.60503262123328
      //               ],
      //               [
      //                   39.344836566292145,
      //                   -120.60479658683984
      //               ]
      // ]
      // ;
      layer = L.polyline(latlngs, {color: 'red'});

layer.addTo(map);
      console.log(layer.getBounds());
      //map.fitBounds(layer.getBounds());
//      layer.on('data:loaded', function() {
          map.fitBounds(layer.getBounds());
//      });

      var icons = [{"lat": 39.3447261, "lon": -120.6050326, "label": "0 mi"}, {"lat": 39.3436787, "lon": -120.5925076, "label": "1 mi"}, {"lat": 39.3422872, "lon": -120.5846671, "label": "2 mi"}, {"lat": 39.3330416, "lon": -120.5759645, "label": "3 mi"}];

      for (i=0; i < icons.length; i++) {
          var icon = icons[i];

          var myIcon = L.divIcon({
              className: 'my-div-icon',
              iconSize: 4
          });

          var marker = L.marker([icon['lat'], icon['lon']], {
              icon: myIcon
          })
              .bindTooltip(icon['label'],
                           {
                               permanent: true,
                               direction: 'right',
                               className: 'my-tooltip'
                           }
                          ).addTo(map);
      }

// label = new L.Tooltip()
// label.setContent("static label")
// label.setLatLng([39.33180329358755, -120.57330166947717])
//       //map.add(label);
//       label.addTo(map);

/*
 gpsbabel -i garmin_fit -f ~/Downloads/96270558.FIT -o geojson -F test.json
*/

    </script>
  </body>
</html>
